<?xml version="1.0"?>

<!-- $Id$ -->

<svg
	xmlns="http://www.w3.org/2000/svg"
	xmlns:xlink="http://www.w3.org/1999/xlink"

	class="figure"
	width="360" height="215"
	transform="translate(.5 .5)">

	<defs>
		<marker id="capsule1:arrow"
				markerWidth="5" markerHeight="5"
				markerUnits="userSpaceOnUse"
				refX="5" refY="2.5"
				orient="auto">
			<polyline points="0,0 5,2.5 0,5" class="arrow"/>
		</marker>

		<marker id="capsule1:limit"
			markerWidth="5" markerHeight="5"
			markerUnits="userSpaceOnUse"
			refX="0" refY="2.5"
			orient="auto">

			<line y1="0" y2="5"/>
		</marker>

		<g id="capsule1:prop_names">
			<rect x="-60" y="-15" height="30" width="120"/>
			<text x="-50" text-anchor="start" class="code">prop_names</text>
		</g>

		<g id="capsule1:capsule_linking">
			<rect x="-60" y="-15" height="30" width="120"/>
			<text x="-50" text-anchor="start" class="code">capsule_linking</text>
		</g>

		<g id="capsule1:external_linkage">
			<rect x="-60" y="-15" height="30" width="120"/>
			<text x="-50" text-anchor="start" class="code">external_linkage</text>
		</g>

		<g id="capsule1:groups">
			<rect x="-60" y="-15" height="30" width="120"/>
			<text x="-50" text-anchor="start" class="code">groups</text>
		</g>

		<g id="capsule1:ellipsis">
			<line x1="-50" x2="50" class="dashed"/>
		</g>

		<g id="capsule1:capsule_tags">
			<use y="10" xlink:href="#capsule1:ellipsis"/>
			<use y="30" xlink:href="#capsule1:ellipsis"/>
			<use y="50" xlink:href="#capsule1:ellipsis"/>
			<rect x="-50" y="-10" height="80" width="100"/>
		</g>

		<g id="capsule1:external_links">
			<use y="10" xlink:href="#capsule1:ellipsis"/>
			<rect x="-50" y="-10" height="40" width="100"/>
		</g>
	</defs>

	<g transform="translate(65, 20)">
		<text y="5" text-anchor="middle">CAPSULE</text>

		<g transform="translate(60 60)">
			<line class="dashed" x2="65" y1="-15" y2="-80"/>
			<line class="dashed" x2="65" y1="15"  y2="0"/>
		</g>

		<g transform="translate(60 90)">
			<line class="dashed" x2="65" y1="-15" y2="50"/>
			<line class="dashed" x2="65" y1="15"  y2="90"/>
		</g>

		<use y="30"  xlink:href="#capsule1:prop_names"/>
		<use y="60"  xlink:href="#capsule1:capsule_linking"/>
		<use y="90"  xlink:href="#capsule1:external_linkage"/>
		<use y="120" xlink:href="#capsule1:groups"/>
	</g>

	<g transform="translate(240, -20)">
		<g marker-start="url(#capsule1:limit)" marker-end="url(#capsule1:limit)">
			<line x1="65" x2="65" y1="20"  y2="100"/>
		</g>

		<text x="75" y="55" text-anchor="start">Capsule</text>
		<text x="75" y="65" text-anchor="start">tags</text>

		<use y="30"  xlink:href="#capsule1:capsule_tags"/>

		<text x="-40" y="30" text-anchor="start" class="code">0</text>
		<text x="-40" y="50" text-anchor="start" class="code">1</text>
		<text x="-40" y="70" text-anchor="start" class="code">2</text>
		<text x="-40" y="90" text-anchor="start" class="code">3</text>
	</g>

	<g transform="translate(240, 140)">
		<text y="10" text-anchor="middle">SLIST(EXTERN_LINK)</text>

		<g marker-start="url(#capsule1:limit)" marker-end="url(#capsule1:limit)">
			<line x1="65" x2="65" y1="20"  y2="60"/>
		</g>

		<text x="75" y="35" text-anchor="start">External</text>
		<text x="75" y="45" text-anchor="start">links</text>

		<use y="30" xlink:href="#capsule1:external_links"/>

		<line y1="20" y2="60" x1="-30" x2="-30"/>

		<text x="-40" y="30" text-anchor="middle" class="na">&#x2013;</text>
		<text x="-40" y="50" text-anchor="middle" class="code">2</text>

		<text x="-25" y="30" text-anchor="start" class="code">&quot;xyz&quot;</text>
		<text x="-25" y="50" text-anchor="start" class="code">&quot;printf&quot;</text>

		<polyline points="-50,50 -70,50 -70,-90 -50,-90"
			marker-end="url(#capsule1:arrow)"/>
	</g>

</svg>

