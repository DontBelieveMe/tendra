<refmeta>
  <refentrytitle>tccenv</refentrytitle>
  <manvolnum>5</manvolnum>
  <refmiscinfo class="software">TenDRA</refmiscinfo>
  <refmiscinfo class="date">$TenDRA$</refmiscinfo>
  <refmiscinfo class="sectdesc">TenDRA</refmiscinfo>
</refmeta>

<refnamediv id='tccenv-name'>
  <refname>tccenv</refname>
  <refpurpose>Environments for tcc</refpurpose>
</refnamediv>

<refsynopsisdiv id='tccenv-synopsis'>
  <cmdsynopsis>
    <command>none</command>
  </cmdsynopsis>
</refsynopsisdiv>

<refsect1 id='tccenv-description'>
  <title>DESCRIPTION</title> 

  <para><emphasis>Tcc</emphasis> environments are used to configure the
    behaviour of &man.tendra.tcc;, a special case of which is specifying
    the APIs used. The standard environments supplied with the release are
    used to represent a number of commonly used APIs, implement certain
    &man.tendra.tcc; command-line options, and provide a means of
    implementing system-specific options. User-defined environments can
    easily be written to correspond to a user-defined API, or to group
    together a number of &man.tendra.tcc; command-line options into a
    single file.</para>

  <para>An environment is just a file which is interpreted by
    &man.tendra.tcc; when it is specified with the command-line option
    -Y<emphasis>string</emphasis>, where <emphasis>string</emphasis> is the
    name of the file. Each environment file consists of lines of the
    form</para>

  <para>*<emphasis>IDENTIFIER</emphasis>
    "<emphasis>text</emphasis>"</para>

  <para>where <emphasis>IDENTIFIER</emphasis> is one of the environmental
    identifiers, <emphasis>text</emphasis> tells &man.tendra.tcc; how to
    modify the value given by this identifier, and * stands for one of the
    environment prefixes + &lt; and &gt;.</para>
</refsect1>

<refsect1 id='tccenv-userdefined-environments'>
  <title>USER-DEFINED ENVIRONMENTS</title> 

  <para>The simplest example of a user-defined environment contains lines
    of the form</para>

  <para>+FLAG "<emphasis>text</emphasis>"</para>

  <para>which tells &man.tendra.tcc; to interpret
    <emphasis>text</emphasis> as if it were passed on the command-line. So,
    for example, an environment consisting of the lines</para>

  <informaltable pgwide='0' frame='none'>
    <tgroup cols='2'>
      <tbody>
        <row>
          <entry>+FLAG</entry>
          <entry>"-Yposix"</entry>
        </row>

        <row>
          <entry>+FLAG</entry>
          <entry>"-Xs"</entry>
        </row>

        <row>
          <entry>+FLAG</entry>
          <entry>"-I/home/user/include"</entry>
        </row>
      </tbody>
    </tgroup>
  </informaltable>

  <para>will modify &man.tendra.tcc; to use the POSIX 1003.1 API with
    strict checks, and add the directory /home/user/include to the search
    path for #included files.</para>

  <para>By default, &man.tendra.tcc; looks for environments in the
    current working directory and in the default environments directory. In
    addition, if the system variable <emphasis>TCCENV</emphasis> is
    defined, this specifies a colon-separated list of directories along
    which &man.tendra.tcc; searches for any environment which is not a full
    pathname.</para>
</refsect1>

<refsect1 id='tccenv-full-environment-list'>
  <title>FULL ENVIRONMENT LIST</title> 

  <para>The majority of the standard environments can be divided into two
    classes: those which correspond to APIs and those which implement
    &man.tendra.tcc; command-line options. (In addition to these, a small
    number are used to enable extra tools and to specify minimum integer
    sizes.)</para>

  <para>The API environments are subdivided into base APIs (such as ANSI,
    POSIX) and extension APIs (such as the X11 environments):</para>

  <informaltable pgwide='0' frame='none'>
    <tgroup cols='2'>
      <tbody>
        <row>
          <entry><emphasis>ansi</emphasis></entry>
          <entry>the ANSI X3.159 API (this is the default API
            environment)</entry>
        </row>

        <row>
          <entry><emphasis>iso</emphasis></entry>
          <entry>the ISO/IEC 9899:1990 (Amendment 1:L1995 (E))
            API</entry>
        </row>

        <row>
          <entry><emphasis>posix</emphasis></entry>
          <entry>the POSIX (IEEE 1003.1:1988) API</entry>
        </row>

        <row>
          <entry><emphasis>posix1</emphasis></entry>
          <entry>the POSIX.1 (ISO/IEC 9945-1:1990) API</entry>
        </row>

        <row>
          <entry><emphasis>posix2</emphasis></entry>
          <entry>the POSIX.2 (ISO/IEC 9945-2:1993) API</entry>
        </row>

        <row>
          <entry><emphasis>xpg3</emphasis></entry>
          <entry>the X/Open Portability Guide 3</entry>
        </row>

        <row>
          <entry><emphasis>xpg4</emphasis></entry>
          <entry>the X/Open Portability Guide 4</entry>
        </row>

        <row>
          <entry><emphasis>unix95</emphasis></entry>
          <entry>the X/Open Single UNIX Specification (Spec 1170)</entry>
        </row>

        <row>
          <entry><emphasis>svid3</emphasis></entry>
          <entry>the System V Interface Definition (3rd Edition)</entry>
        </row>

        <row>
          <entry><emphasis>aes</emphasis></entry>
          <entry>the Application Environment Specification (Revision A) API</entry>
        </row>

        <row>
          <entry><emphasis>bsd_extn</emphasis></entry>
          <entry>BSD-like extension for use with POSIX, etc.</entry>
        </row>

        <row>
          <entry><emphasis>x5_lib</emphasis></entry>
          <entry>X11 (Release 5) X Library</entry>
        </row>

        <row>
          <entry><emphasis>x5_t</emphasis></entry>
          <entry>X11 (Release 5) Intrinsics Toolkit</entry>
        </row>

        <row>
          <entry><emphasis>x5_mu</emphasis></entry>
          <entry>X11 (Release 5) Miscellaneous Utilities</entry>
        </row>

        <row>
          <entry><emphasis>x5_aw</emphasis></entry>
          <entry>X11 (Release 5) Athena Widgets</entry>
        </row>

        <row>
          <entry><emphasis>x5_mit</emphasis></entry>
          <entry>X11 (Release 5) MIT Implementation</entry>
        </row>

        <row>
          <entry><emphasis>x5_proto</emphasis></entry>
          <entry>X11 (Release 5) Protocol Extension</entry>
        </row>

        <row>
          <entry><emphasis>x5_ext</emphasis></entry>
          <entry>X11 (Release 5) Extensions</entry>
        </row>

        <row>
          <entry><emphasis>motif_1_1</emphasis></entry>
          <entry>Motif (Release 1.1)</entry>
        </row>

        <row>
          <entry><emphasis>motif_1_2</emphasis></entry>
          <entry>Motif (Release 1.2)</entry>
        </row>

        <row>
          <entry><emphasis>system</emphasis></entry>
          <entry>System headers as main API</entry>
        </row>

        <row>
          <entry><emphasis>system+</emphasis></entry>
          <entry>System headers as last resort extension API</entry>
        </row>

        <row>
          <entry><emphasis>tdf_ext</emphasis></entry>
          <entry>compilation using TDF Version 4.0 extensions</entry>
        </row>
      </tbody>
    </tgroup>
  </informaltable>

  <para>Some environments are available which modify access to previously
    specified APIs:</para>

  <informaltable pgwide='0' frame='none'>
    <tgroup cols='2'>
      <tbody>
        <row>
          <entry><emphasis>x5_private</emphasis></entry>
          <entry>permit access to X11 Release 5 private headers (*P.h)</entry>
        </row>

        <row>
          <entry><emphasis>motif_private</emphasis></entry>
          <entry>permit access to Motif private headers (*P.h)</entry>
        </row>
      </tbody>
    </tgroup>
  </informaltable>

  <para>Note that TDF token libraries for all these APIs will not be
    available on all platforms, so it may not be possible run installers
    for programs compiled with all API environments. It will always be
    possible to check code with any API environment using
    &man.tendra.tchk;.</para>

  <para>The following environments are used to specify the use of
    particular tools (where available) which are not enabled by
    default:</para>

  <informaltable pgwide='0' frame='none'>
    <tgroup cols='2'>
      <tbody>
        <row>
          <entry><emphasis>c++</emphasis></entry>
          <entry>enables the C++ producer/checker <emphasis>tcpplus</emphasis>.</entry>
        </row>

        <row>
          <entry><emphasis>pl_tdf</emphasis></entry>
          <entry>enables the PL_TDF compiler <emphasis>pl</emphasis>.</entry>
        </row>

        <row>
          <entry><emphasis>tnc</emphasis></entry>
          <entry>enables the TDF notation compiler <emphasis>tnc</emphasis>.</entry>
        </row>
      </tbody>
    </tgroup>
  </informaltable>

  <para>The default behaviour of &man.tendra.tcc; is to assume the
    minimal sizes of integer types allowed by ANSI. This behaviour can be
    modified with the following environments:</para>

  <informaltable pgwide='0' frame='none'>
    <tgroup cols='2'>
      <tbody>
        <row>
          <entry><emphasis>16bit</emphasis></entry>
          <entry>specifies minimal integer sizes allowed by ANSI (default)</entry>
        </row>

        <row>
          <entry><emphasis>32bit</emphasis></entry>
          <entry>specifies integer sizes found on most 32-bit machines</entry>
        </row>
      </tbody>
    </tgroup>
  </informaltable>

  <para>In addition to these, the following implement target-specific
    options:</para>

  <informaltable pgwide='0' frame='none'>
    <tgroup cols='2'>
      <tbody>
        <row>
          <entry><emphasis>aout</emphasis></entry>
          <entry>Use a.out instead of ELF format (386 Linux ELF only).</entry>
        </row>

        <row>
          <entry><emphasis>static</emphasis></entry>
          <entry>Use static instead of dynamic linking (Alpha only).</entry>
        </row>
      </tbody>
    </tgroup>
  </informaltable>
</refsect1>

<refsect1 id='tccenv-environmental-identifiers'>
  <title>ENVIRONMENTAL IDENTIFIERS</title> 

  <para>In the following list, the environmental prefix * must be
    replaced by one of + (which replaces the existing value), &lt; (which
    adds a value to the beginning of the existing list), or &gt; (which
    adds a value to the end of the existing list).</para>

  <informaltable pgwide='0' frame='none'>
    <tgroup cols='2'>
      <tbody>
        <row>
          <entry><emphasis>*API_NAME</emphasis></entry>
          <entry>modifies the list of API analysis environment names</entry>
        </row>

        <row>
          <entry><emphasis>*AS</emphasis></entry>
          <entry>modifies the system assembler executable</entry>
        </row>

        <row>
          <entry><emphasis>*AS1</emphasis></entry>
          <entry>modifies the auxiliary assembler executable (Mips and Alpha only)</entry>
        </row>

        <row>
          <entry><emphasis>*CC</emphasis></entry>
          <entry>modifies the system compiler executable</entry>
        </row>

        <row>
          <entry><emphasis>*CPP_SPEC_LINK</emphasis></entry>
          <entry>modifies the C++ spec linker executable</entry>
        </row>

        <row>
          <entry><emphasis>*CRT0</emphasis></entry>
          <entry>modifies the first list of initial default .o files</entry>
        </row>

        <row>
          <entry><emphasis>*CRT1</emphasis></entry>
          <entry>modifies the second list of initial default .o files</entry>
        </row>

        <row>
          <entry><emphasis>*CRTP_N</emphasis></entry>
          <entry>modifies the list of additional default .o files (-Yprom only)</entry>
        </row>

        <row>
          <entry><emphasis>*CRTN</emphasis></entry>
          <entry>modifies the list of final default .o files</entry>
        </row>

        <row>
          <entry><emphasis>*DISP</emphasis></entry>
          <entry>modifies the TDF pretty printer executable</entry>
        </row>

        <row>
          <entry><emphasis>*DUMP_ANAL</emphasis></entry>
          <entry>modifies the dump-file analyser executable</entry>
        </row>

        <row>
          <entry><emphasis>*DUMP_LINK</emphasis></entry>
          <entry>modifies the dump linker executable</entry>
        </row>

        <row>
          <entry><emphasis>*DYN_LINK</emphasis></entry>
          <entry>modifies the dynamic-initialisation linker
            executable (RS6000 and Sparc only)</entry>
        </row>

        <row>
          <entry><emphasis>+ENVDIR</emphasis></entry>
          <entry>sets the default environment
            directory</entry>
        </row>

        <row>
          <entry><emphasis>+FLAG</emphasis></entry>
          <entry>passes a flag to &man.tendra.tcc;</entry>
        </row>

        <row>
          <entry><emphasis>+FLAG_AS</emphasis></entry>
          <entry>passes a flag to the assembler</entry>
        </row>

        <row>
          <entry><emphasis>+FLAG_AS1</emphasis></entry>
          <entry>passes a flag to the auxiliary assembler
            (Mips and Alpha only)</entry>
        </row>

        <row>
          <entry><emphasis>+FLAG_CC</emphasis></entry>
          <entry>passes a flag to the system compiler</entry>
        </row>

        <row>
          <entry><emphasis>+FLAG_CPP_SPEC_LINK</emphasis></entry>
          <entry>passes a flag to the C++ spec linker</entry>
        </row>

        <row>
          <entry><emphasis>+FLAG_DISP</emphasis></entry>
          <entry>passes a flag to the TDF pretty printer</entry>
        </row>

        <row>
          <entry><emphasis>+FLAG_DUMP_ANAL</emphasis></entry>
          <entry>passes a flag to the dump-file analyser</entry>
        </row>

        <row>
          <entry><emphasis>+FLAG_DUMP_LINK</emphasis></entry>
          <entry>passes a flag to the dump linker</entry>
        </row>

        <row>
          <entry><emphasis>+FLAG_DYN_LINK</emphasis></entry>
          <entry>passes a flag to the dynamic-initialisation
            linker ((RS6000 and Sparc only)</entry>
        </row>

        <row>
          <entry><emphasis>+FLAG_INSTALL</emphasis></entry>
          <entry>passes a flag to the TDF archive builder</entry>
        </row>

        <row>
          <entry><emphasis>+FLAG_LD</emphasis></entry>
          <entry>passes a flag to the system linker</entry>
        </row>

        <row>
          <entry><emphasis>+FLAG_PL_TDF</emphasis></entry>
          <entry>passes a flag to the PL_TDF compiler</entry>
        </row>

        <row>
          <entry>
          <emphasis>+FLAG_SPEC_LINKER</emphasis></entry>
          <entry>passes a flag to the C spec linker</entry>
        </row>

        <row>
          <entry><emphasis>+FLAG_TCPPLUS</emphasis></entry>
          <entry>passes a flag to the C++ producer</entry>
        </row>

        <row>
          <entry><emphasis>+FLAG_TCPPLUSPP</emphasis></entry>
          <entry>passes a flag to the C++ preprocessor</entry>
        </row>

        <row>
          <entry><emphasis>+FLAG_TDFC</emphasis></entry>
          <entry>passes a flag to the C producer</entry>
        </row>

        <row>
          <entry><emphasis>+FLAG_TDFCPP</emphasis></entry>
          <entry>passes a flag to the C preprocessor</entry>
        </row>

        <row>
          <entry><emphasis>+FLAG_TLD</emphasis></entry>
          <entry>passes a flag to the TDF linker</entry>
        </row>

        <row>
          <entry><emphasis>+FLAG_TNC</emphasis></entry>
          <entry>passes a flag to the TDF notation
          compiler</entry>
        </row>

        <row>
          <entry><emphasis>+FLAG_TRANS</emphasis></entry>
          <entry>passes a flag to the TDF translator</entry>
        </row>

        <row>
          <entry><emphasis>*INCL</emphasis></entry>
          <entry>modifies the list of default include file
            directories</entry>
        </row>

        <row>
          <entry><emphasis>*INFO</emphasis></entry>
          <entry>modifies the list of API information</entry>
        </row>

        <row>
          <entry><emphasis>*LD</emphasis></entry>
          <entry>modifies the system linker executable</entry>
        </row>

        <row>
          <entry><emphasis>*LIB</emphasis></entry>
          <entry>modifies the list of default TDF libraries</entry>
        </row>

        <row>
          <entry><emphasis>+LINE_START</emphasis></entry>
          <entry>inserts a line in the &man.tendra.tcc;
            built-in start-up file</entry>
        </row>

        <row>
          <entry><emphasis>+LINE_END</emphasis></entry>
          <entry>inserts a line in the &man.tendra.tcc;
            built-in end-up file</entry>
        </row>

        <row>
          <entry><emphasis>*LINK</emphasis></entry>
          <entry>modifies the list of default TDF library directories</entry>
        </row>

        <row>
          <entry><emphasis>*LINK_ENTRY</emphasis></entry>
          <entry>modifies the linker options specifying the
          entry point</entry>
        </row>

        <row>
          <entry><emphasis>+MACHINE</emphasis></entry>
          <entry>sets the target machine type</entry>
        </row>

        <row>
          <entry><emphasis>+PORTABILITY</emphasis></entry>
          <entry>sets the producer portability table</entry>
        </row>

        <row>
          <entry><emphasis>*PL_TDF</emphasis></entry>
          <entry>modifies the PL_TDF compiler
          executable</entry>
        </row>

        <row>
          <entry><emphasis>*SPEC_LINK</emphasis></entry>
          <entry>modifies the C spec linker executable</entry>
        </row>

        <row>
          <entry><emphasis>*STARTUP</emphasis></entry>
          <entry>modifies the list of default C producer
          start-up files</entry>
        </row>

        <row>
          <entry><emphasis>*STARTUP_DIR</emphasis></entry>
          <entry>modifies the list of default C producer
            start-up directories</entry>
        </row>

        <row>
          <entry><emphasis>*STARTUP_CPP</emphasis></entry>
          <entry>modifies the list of default C++ producer
            start-up files</entry>
        </row>

        <row>
          <entry><emphasis>*STARTUP_CPP_DIR</emphasis></entry>
          <entry>modifies the list of default C++ producer
            start-up directories</entry>
        </row>

        <row>
          <entry><emphasis>*SUFFIX_CPP</emphasis></entry>
          <entry>sets the filename suffix override for C++ source files</entry>
        </row>

        <row>
          <entry><emphasis>*SYS_LIB</emphasis></entry>
          <entry>modifies the list of default system libraries</entry>
        </row>

        <row>
          <entry><emphasis>*SYS_LIBC</emphasis></entry>
          <entry>modifies the list of standard system libraries</entry>
        </row>

        <row>
          <entry><emphasis>*SYS_LINK</emphasis></entry>
          <entry>modifies the list of default system library directories</entry>
        </row>

        <row>
          <entry><emphasis>*TCPPLUS</emphasis></entry>
          <entry>modifies the C++ producer executable</entry>
        </row>

        <row>
          <entry><emphasis>*TCPPLUSPP</emphasis></entry>
          <entry>modifies the C++ preprocessor executable</entry>
        </row>

        <row>
          <entry><emphasis>*TDFC</emphasis></entry>
          <entry>modifies the C producer executable</entry>
        </row>

        <row>
          <entry><emphasis>*TDFCPP</emphasis></entry>
          <entry>modifies the C preprocessor executable</entry>
        </row>

        <row>
          <entry><emphasis>+TEMP</emphasis></entry>
          <entry>sets the temporary directory</entry>
        </row>

        <row>
          <entry><emphasis>*TLD</emphasis></entry>
          <entry>modifies the TDF linker executable</entry>
        </row>

        <row>
          <entry><emphasis>*TNC</emphasis></entry>
          <entry>modifies the TDF notation compiler executable</entry>
        </row>

        <row>
          <entry><emphasis>*TRANS</emphasis></entry>
          <entry>modifies the TDF translator executable</entry>
        </row>

        <row>
          <entry><emphasis>+VERSION</emphasis></entry>
          <entry>sets the target machine version (Mips
          only)</entry>
        </row>
      </tbody>
    </tgroup>
  </informaltable>
</refsect1>

<refsect1 id='tccenv-seealso'>
  <title>SEE ALSO</title> 

  <para>&man.tendra.tcc;, &man.tendra.tchk;, &man.tendra.tcpplus;
    &man.tendra.pl;. &man.tendra.tnc;</para>
</refsect1>
