<?xml version="1.0"?>

<!-- $Id$ -->

<svg
	xmlns="http://www.w3.org/2000/svg"
	xmlns:xlink="http://www.w3.org/1999/xlink"

	class="figure"
	width="630" height="295"
	transform="translate(.5 .5)">

	<defs>
		<marker id="dregen:arrow"
				markerWidth="5" markerHeight="5"
				markerUnits="userSpaceOnUse"
				refX="5" refY="2.5"
				orient="auto">
			<polyline points="0,0 5,2.5 0,5" class="arrow"/>
		</marker>

		<line id="dregen:mt"   x1="-10" x2="-10" y1="40" y2="15"
			marker-end="url(#dregen:arrow)"/>
		<line id="dregen:sid"  x1="0"   x2="0"   y1="60" y2="15"
			marker-end="url(#dregen:arrow)"/>
		<line id="dregen:lexi" x1="10"  x2="10"  y1="80" y2="15"
			marker-end="url(#dregen:arrow)"/>

		<line id="dregen:down" y1="50"  y2="15"
			marker-end="url(#dregen:arrow)"/>
	</defs>

	<g transform="translate(355 50)" text-anchor="middle">
		<g transform="translate(-250 35)">
			<g transform="translate(0 -65)">
				<rect x="-50" y="-15" width="100" height="30"/>
				<text style="code">producers-dra</text>
				<use x="-25" xlink:href="#dregen:down"/>
				<use x="25"  xlink:href="#dregen:down"/>
				<line y1="115" y2="15" marker-end="url(#dregen:arrow)"/>

				<polyline points="-100,190 -100,35 -40,35 -40,15"
					marker-end="url(#dregen:arrow)"/>
			</g>

			<g transform="translate(-50 0)">
				<rect x="-40" y="-15" width="80" height="30"/>
				<text style="code">make_err</text>
				<use x="25"  xlink:href="#dregen:down"/>

				<line x1="-25" x2="-25" y1="125" y2="15" marker-end="url(#dregen:arrow)"/>
				<line x1="-15" x2="-15" y1="145" y2="15" marker-end="url(#dregen:arrow)"/>
			</g>
	
			<g transform="translate(50 0)">
				<rect x="-40" y="-15" width="80" height="30"/>
				<text style="code">make_tdf</text>
				<use x="-25" xlink:href="#dregen:down"/>

				<line x1="15" x2="15" y1="125" y2="15" marker-end="url(#dregen:arrow)"/>
				<line x1="25" x2="25" y1="145" y2="15" marker-end="url(#dregen:arrow)"/>

				<polyline points="40,0 60,0 60,105"/>
			</g>
	
			<g transform="translate(0 65)">
				<rect x="-40" y="-15" width="80" height="30"/>
				<text style="code">calculus</text>

				<line x1="-25" x2="-25" y1="60" y2="15" marker-end="url(#dregen:arrow)"/>
				<line x1="-15" x2="-15" y1="80" y2="15" marker-end="url(#dregen:arrow)"/>
			</g>
		</g>


		<g transform="translate(-110 120)">
			<line x1="-10" x2="-30"  y1="20" y2="20"/>
			<line x1="-10" x2="-240" y1="40" y2="40"/>
			<line x1="-10" x2="-205" y1="60" y2="60"/>

			<text y="20" style="code">tdf</text>
			<text y="40" style="code">sid</text>
			<text y="60" style="code">lexi</text>

			<line x1="10" x2="270" y1="20" y2="20"/>
			<line x1="10" x2="350" y1="40" y2="40"/>
			<line x1="10" x2="360" y1="60" y2="60"/>
		</g>

		<g transform="translate(-250 225)">
			<g transform="translate(-50 0)">
				<rect x="-30" y="-15" width="60" height="30"/>
				<text style="code">sid</text>

				<line y1="-15" y2="-65" marker-end="url(#dregen:arrow)"/>

				<line y1="5" y2="5" x1="30" x2="70" marker-end="url(#dregen:arrow)"/>
			</g>

			<g transform="translate(50 0)">
				<rect x="-30" y="-15" width="60" height="30"/>
				<text style="code">lexi</text>

				<line y1="-15" y2="-45" marker-end="url(#dregen:arrow)"/>

				<line y1="-5" y2="-5" x1="-30" x2="-70" marker-end="url(#dregen:arrow)"/>
			</g>


			<g transform="translate(200 0)">
				<rect x="-30" y="-15" width="60" height="30"/>
				<text style="code">libexds</text>
			</g>

			<g transform="translate(280 0)">
				<rect x="-30" y="-15" width="60" height="30"/>
				<text style="code">osdep</text>
			</g>

			<g transform="translate(360 0)">
				<rect x="-30" y="-15" width="60" height="30"/>
				<text style="code">tcc</text>
			</g>

			<g transform="translate(440 0)">
				<rect x="-30" y="-15" width="60" height="30"/>
				<text style="code">tld</text>
			</g>
		</g>

		<g transform="translate(300, 100)">
			<g transform="translate(-370 -130)">
				<rect x="-50" y="-15" width="100" height="30"/>
				<text style="code">trans</text>

				<line y1="170" y2="15"
					marker-end="url(#dregen:arrow)"/>

				<polyline points="-110,50 -110,35 -30,35 -30,15"
					marker-end="url(#dregen:arrow)"/>
			</g>

			<g transform="translate(-290 0)">
				<rect x="-30" y="-15" width="60" height="30"/>
				<text style="code">tnc</text>
				<use xlink:href="#dregen:mt"/>
				<use xlink:href="#dregen:sid"/>
				<use xlink:href="#dregen:lexi"/>
			</g>

			<g transform="translate(-210 0)">
				<rect x="-30" y="-15" width="60" height="30"/>
				<text style="code">disp</text>
				<use xlink:href="#dregen:mt"/>
				<use xlink:href="#dregen:sid"/>
				<use xlink:href="#dregen:lexi"/>
			</g>

			<g transform="translate(-130 0)">
				<rect x="-30" y="-15" width="60" height="30"/>
				<text style="code">tpl</text>
				<use xlink:href="#dregen:mt"/>
				<use xlink:href="#dregen:sid"/>
				<use xlink:href="#dregen:lexi"/>
			</g>

			<g transform="translate(-60 0)">
				<rect x="-30" y="-15" width="60" height="30"/>
				<text style="code">tspec</text>
				<use xlink:href="#dregen:sid"/>
				<use xlink:href="#dregen:lexi"/>
			</g>
		</g>
	</g>

</svg>

